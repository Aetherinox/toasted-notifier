# ---------------------------------------------------------------------------------------
#   @parent     : github workflow
#   @desc       : run npm tests
#   @author     : Aetherinox
#   @url        : https://github.com/Aetherinox
# ---------------------------------------------------------------------------------------

name: "ğŸ”§ Tests â€º NPM Package"
run-name: "ğŸ”§ Tests â€º NPM Package"

# ---------------------------------------------------------------------------------------
#   triggers
# ---------------------------------------------------------------------------------------

on:
  push:
  pull_request:

# ---------------------------------------------------------------------------------------
#   jobs
# ---------------------------------------------------------------------------------------

jobs:
    build:
        name: >-
          ğŸ“¦ Tests â€º Initialize
        runs-on: ubuntu-latest
        strategy:
            matrix:
                node-version: [10.x, 12.x, 14.x, 16.x, 17.x, 18.x, 20.x, 22.x]

        steps:
            - name: "âœ… Start"
              id: task_initialize_start
              run: |
                    echo "Starting build"

            # ---------------------------------------------------------------------------------------
            #   Job > Initialize > Checkout
            # ---------------------------------------------------------------------------------------

            - name: "â˜‘ï¸ Checkout"
              id: task_initialize_checkout
              uses: actions/checkout@v4
              with:
                fetch-depth: 0

            # ---------------------------------------------------------------------------------------
            #   Job > Npm > Install Dependencies
            # ---------------------------------------------------------------------------------------

            - name: "âš™ï¸ Install Dependencies"
              run: npm ci

            # ---------------------------------------------------------------------------------------
            #   Job > Npm > Run Tests
            # ---------------------------------------------------------------------------------------

            - name: "ğŸªª Run Tests"
              run: npm test
